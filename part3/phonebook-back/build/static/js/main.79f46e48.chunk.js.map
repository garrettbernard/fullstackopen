{"version":3,"sources":["services/names.js","components/PersonForm.js","components/Filter.js","components/Person.js","App.js","index.js"],"names":["baseUrl","nameService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","PersonForm","persons","setPersons","newName","setNewName","newPhone","setNewPhone","setNewMessage","onSubmit","event","preventDefault","nameObject","name","number","length","isDuplicate","filter","person","map","filteredID","window","confirm","find","n","changedName","returnedName","catch","error","message","type","setTimeout","returnedNote","concat","value","onChange","target","Filter","setNewSearch","newSearch","Person","toggleDelete","updatedPersons","toLowerCase","includes","filteredContent","onClick","App","props","useState","newMessage","useEffect","initialNames","Notification","console","log","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79f46e48.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst nameService = {\r\n     getAll,\r\n     create,\r\n     update,\r\n     remove\r\n};\r\n\r\nexport default nameService;\r\n","import React from 'react'\r\nimport nameService from '../services/names'\r\n\r\nconst PersonForm = ({ persons, setPersons, newName, setNewName, newPhone,setNewPhone, setNewMessage }) => {\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handlePhoneChange = (event) => setNewPhone(event.target.value)\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newPhone,\r\n      id: persons.length + 1\r\n    }\r\n\r\n    const isDuplicate = persons.filter(person => person.name === newName).map(filteredID => filteredID.id)\r\n\r\n    if (isDuplicate.length > 0) {\r\n      if (window.confirm(newName + \" is already added to phonebook. replace the old number with a new one?\")) {\r\n\r\n        const name = persons.find(n => n.id === isDuplicate[0])\r\n        const changedName = { ...name, number: nameObject.number }\r\n\r\n        nameService\r\n          .update(isDuplicate[0], changedName)\r\n          .then(returnedName => {\r\n            setPersons(persons.map(name => name.id !== isDuplicate[0] ? name : returnedName))\r\n            setNewMessage(`Updated ${nameObject.name}`)\r\n        })\r\n        .catch(error => {\r\n          setNewMessage({\r\n            message: `Information of ${nameObject.name} has already been removed from server`,\r\n            type: 'error'\r\n          })\r\n          setTimeout(() => {\r\n            setNewMessage(null)\r\n          }, 5000)\r\n        })\r\n\r\n      } else {\r\n        setNewName('');\r\n        setNewPhone('');\r\n      }\r\n    } else {\r\n      nameService\r\n        .create(nameObject)\r\n        .then(returnedNote => {\r\n          setPersons(persons.concat(nameObject));\r\n          setNewName('');\r\n          setNewPhone('');\r\n          setNewMessage({\r\n            message: `Added ${nameObject.name}`,\r\n            type: 'added'\r\n          })\r\n          setTimeout(() => {\r\n            setNewMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n            setNewMessage({\r\n              message: `${error.response.data['error']}`,\r\n              type: 'error'\r\n            })\r\n          })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n        <form onSubmit={addName}>\r\n          <div>name: <input value={newName} onChange={handleNameChange} /></div>\r\n          <div>number: <input value={newPhone} onChange={handlePhoneChange} /></div>\r\n          <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Filter = ({ setNewSearch, newSearch }) => {\r\n  const handleSearch = (event) => {\r\n    setNewSearch(event.target.value)\r\n  }\r\n  return(\r\n    <div>\r\n      filter shown with <input value={newSearch} onChange={handleSearch} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Person = ({ persons, newSearch, toggleDelete }) => {\r\n\r\n     const updatedPersons = persons.filter(person =>\r\n       person.name.toLowerCase().includes(newSearch.toLowerCase())).map(filteredContent =>\r\n         <div key={filteredContent.id}>\r\n            {filteredContent.name} {filteredContent.number} <button onClick={ () => window.confirm(`Delete ${filteredContent.name} ?`) ? toggleDelete(filteredContent.id) : null }>Delete</button>\r\n         </div>\r\n       )\r\n\r\n     return (\r\n       <div>\r\n       {updatedPersons}\r\n       </div>\r\n     )\r\n  }\r\n\r\nexport default Person\r\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport nameService from './services/names'\n\nconst App = (props) => {\n  const [ persons, setPersons ] = useState([])\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [newMessage, setNewMessage] = useState([])\n\n  useEffect(() => {\n    nameService\n      .getAll()\n      .then(initialNames => {\n        setPersons(initialNames)\n      })\n  }, [])\n\n  const toggleDelete= id => {\n    const name = persons.find(n => n.id === id)\n\n    nameService\n      .remove(id)\n      .then(returnedName => {\n        setPersons(persons.filter(name => name.id !== id))\n    })\n    .catch(error => {\n      setNewMessage({\n        message: `Information of ${name.name} has already been removed from server`,\n        type: 'error'\n      })\n      setTimeout(() => {\n        setNewMessage(null)\n      }, 5000)\n    })\n  }\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    console.log(message)\n    return (\n      <div className={message.type}>\n        {message.message}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={newMessage} />\n      <Filter setNewSearch={setNewSearch} newSearch={newSearch} />\n      <h3>add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName} newPhone={newPhone} setNewPhone={setNewPhone} setNewMessage={setNewMessage} />\n      <Person persons={persons} newSearch={newSearch} toggleDelete={toggleDelete} />\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}